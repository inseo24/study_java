# CH06 객체지향 프로그램

### 객체 지향의 장점

**재사용성**, **유지보수 용이**, **중복 코드의 제거**, 신뢰성

### 클래스

어떤 객체의 정의문, 객체는 클래스에 정의한 내용대로 메모리에 생성됨 

인스턴스화: 클래스에서 객체를 만드는 과정, 인스턴스는 그 결과물인 객체

- 데이터와 함수의 결합
- **user-defined type** 사용자정의 타입

### 멤버: 속성과 기능

멤버**변수**: 속성(property), 특성(attribute). 필드(field), 상태(state)

**메서드**(method): 기능(function), 함수, 행위

ex) TV 

```java
class Tv {
	
	// 멤버변수
	String color;
	boolean power;
	int channel;

	// 메서드
	void power() {
		power = !power;
	};

	void channelUp() {
		++channel;
	};

	void channelDown() {
		--channel;
	};

}

class TvTest {
	public static void main(String[] args) {

		Tv t; // 참조변수 선언(인스턴스 생성 전)
		t = new Tv(); // 인스턴스 생성, 변수는 기본값으로 초기화
		// 객체 주소가 참조변수에 저장되어 접근 가능
		
		t.channel = 7;
		t.channelDown();
		System.out.println(t.channel);

	}

}
```

```java
Tv t1 = new Tv(); // 한 문장으로 표현 가능
Tv t2 = new Tv();
System.out.println("기본값: "+ t1.channel); // 기본값: 0

t1.channel = 7;
System.out.println("변경: " + t1.channel); // 변경: 7
System.out.println("t2 값: " + t2.channel); // 0

t2 = t1; // t2에 t1 인스턴스 주소 값을 저장, t2도 t1을 같이 참조
System.out.println("t2 값 변경: " + t2.channel); // 7
```

- 둘 이상의 참조변수가 하나의 인스턴스를 참조할 수 있음
- 하나의 참조변수로 여러 개의 인스턴스를 가리킬 순 없음

### 객체 배열

객체를 배열로 다룸, 배열 안에 객체의 주소가 저장되어 참조변수들을 하나로 묶음

```java
Tv tv1, tv2, tv3;
Tv[] tvArr = new Tv[3];

tvArr[0] = new Tv();

Tv[] tvArr = { new Tv(), new Tv(), new Tv() };

// 이 외, for문 사용 가능
```

```java
Tv[] tvArr = new Tv[3];

		for (int i = 0; i < tvArr.length; i++) {
			tvArr[i] = new Tv();
			tvArr[i].channel = i + 10;
		}

		for (int i = 0; i < tvArr.length; i++) {
			tvArr[i].channelUp();
			System.out.printf("tvArr[%d].channel=%d%n", i, tvArr[i].channel);
		}
```

### 변수와 메서드

| 종류             |  선언위치                 | 생성시기              |  
|:--- | ---: | :---: |  
| 클래스 변수(class variable)             | 클래스 영역            | 클래스가 메모리에 올라갈 때 |  
| 인스턴스 변수(instance variable)           | 클래스 영역            | 인스턴스가 생성되었을 때
| 지역 변수(local variable) | 클래스 영역 이외(ex) 메서드, 생성자, 초기화 블럭 내부 | 변수 선언문이 수행되었을 때

변수가 선언된 위치에 따라 변수의 종류가 달라짐

- 클래스 변수: 멤버 변수 중 **static 키워드와 함께 선언**된 변수
- 인스턴스 변수: 멤버 변수 중 클래스 변수를 제외한 것
- 지역 변수: (멤버 변수를 제외한)클래스 **외부에 선언**된 변수

인스턴스 변수는 인스턴스가 생성될 때마다 생성되므로 각기 다른 값을 유지하나, 클래스 변수는 한 저장공간을 공유하므로 항상 공통된 값을 갖음.

### 메서드

사용 이유: 높은 재사용성, 중복 코드 제거, 프로그램의 구조화

```java
반환타입 메서드이름 (타입 변수명, 타입 변수명, ... ) {  // 선언부
	// 메서드 호출 시 수행될 코드                        // 구현부
}

int add(int a, int b){
	int result = a + b;
	return result;
}

// 매개변수 선언 
int a, int b
int a, b // Error, 타입이 같아도 생략 불가

// 메서드 호출, 인자(argument)
add(3, 5);

// 현재 실행중인 메서드를 종료하고 호출한 메서드로 되돌아감
// 반환값 유무와 관계 없이 1개 이상의 return문 필요
// void인 경우에도 컴파일러가 자동 추가함
return result;
// 수식의 결과값이 return
return x + y;
```

- 메서드 선언부(method declaration, method header)
    - 메서드의 이름, 매개변수 선언, 반환타입으로 구성
- 메서드 구현부(method body)
    - 지역 변수, return문(타입이 일치하거나 최소 형변환이 가능한 것)

- 매개변수 유효성 검사
    - 적절하지 않은 값이 들어올 경우 값을 보정하거나 보정이 불가능하다면 return문으로 작업을 중단하고 호출한 메서드로 되돌아감